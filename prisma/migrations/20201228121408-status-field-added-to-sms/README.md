# Migration `20201228121408-status-field-added-to-sms`

This migration has been generated by nouman at 12/28/2020, 5:14:08 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_sms" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "msg" TEXT NOT NULL DEFAULT '',
    "phone" TEXT NOT NULL DEFAULT '',
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "sent" BOOLEAN NOT NULL DEFAULT false,
    "status" TEXT NOT NULL DEFAULT 'PENDING',
    "onceDaily" TEXT NOT NULL
);
INSERT INTO "new_sms" ("id", "phone", "createdAt", "sent", "onceDaily", "msg") SELECT "id", "phone", "createdAt", "sent", "onceDaily", "msg" FROM "sms";
DROP TABLE "sms";
ALTER TABLE "new_sms" RENAME TO "sms";
CREATE UNIQUE INDEX "sms.onceDaily_unique" ON "sms"("onceDaily");
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201228101735-amountrangesadded..20201228121408-status-field-added-to-sms
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
     provider = "sqlite"
-    url = "***"
+    url = "***"
 }
 generator client {
@@ -54,6 +54,7 @@
     msg         String       @default("")
     phone       String       @default("")
     createdAt   DateTime     @default(now())
     sent        Boolean      @default(false)
+    status      String       @default("PENDING")
     onceDaily   String       @unique
 }
```


